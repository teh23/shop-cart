{"version":3,"sources":["lib/fetcher.ts","components/Logic/Reducer.ts","components/Logic/CartProvider.tsx","components/Stars.tsx","components/Product.tsx","components/Category.tsx","components/Header.tsx","components/Cart.tsx","App.tsx","index.tsx"],"names":["fetcher","url","axios","get","then","res","data","Reducer","state","action","type","find","product","id","payload","map","val","count","filter","cartCtx","createContext","card","dispatch","CartProvider","children","useReducer","Provider","value","useCart","useContext","Stars","rating","className","Product","category","description","image","price","title","src","alt","rate","onClick","Category","match","params","useSWR","idx","key","Header","Card","onChange","e","Object","is","NaN","parseInt","target","changeCount","remove","App","to","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7ba47b78.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const fetcher = (url: string) => axios.get(url).then(res => res.data)","import { IAction, ICart } from \"../Interface\";\r\n\r\nconst Reducer = (state: ICart[], action: IAction) => {\r\n    switch (action.type) {\r\n        case \"ADD\":\r\n            if (\r\n                state.find(\r\n                    ({ product }) => product.id === action.payload.product.id\r\n                )\r\n            ) {\r\n                return [\r\n                    ...state.map((val) => {\r\n                        if (val.product.id === action.payload.product.id) {\r\n                            val.count++;\r\n                        }\r\n                        return val;\r\n                    }),\r\n                ];\r\n            }\r\n            return [\r\n                ...state,\r\n                {\r\n                    product: action.payload.product,\r\n                    count: action.payload.count,\r\n                },\r\n            ];\r\n        case \"REMOVE\":\r\n            return [\r\n                ...state.filter(\r\n                    ({ product }) => product.id !== action.payload.product.id\r\n                ),\r\n            ];\r\n        case \"CHANGE\":\r\n            return [\r\n                ...state.map((val) => {\r\n                    if (val.product.id === action.payload.product.id) {\r\n                        val.count = action.payload.count;\r\n                    }\r\n                    return val;\r\n                }),\r\n            ];\r\n\r\n        default:\r\n            return [];\r\n    }\r\n};\r\n\r\nexport default Reducer;\r\n","import React, { createContext, useContext, useReducer } from 'react'\r\nimport { ctx } from '../Interface'\r\nimport Reducer from './Reducer'\r\n\r\nconst cartCtx = createContext<ctx>({ card: [], dispatch: () => [] })\r\n\r\n\r\n\r\nconst CartProvider: React.FunctionComponent<{\r\n    children: React.ReactNode\r\n}> = ({ children }) => {\r\n    const [card, dispatch] = useReducer(Reducer, [])\r\n\r\n    return (\r\n        <cartCtx.Provider value={{ card, dispatch }}>\r\n            {children}\r\n        </cartCtx.Provider>\r\n    )\r\n}\r\n\r\nexport default CartProvider\r\nexport const useCart = () => useContext(cartCtx)","import React from 'react'\r\nimport { FaStar } from \"react-icons/fa\";\r\n\r\nconst Stars: React.FunctionComponent<{\r\n    rating: number\r\n}>\r\n    = ({ rating }) => {\r\n\r\n        return (\r\n            <div className={`flex items-center`}>\r\n                <p>{rating}</p>\r\n                <FaStar className={`text-yellow-400`} />\r\n                <FaStar className={`text-yellow-400`} />\r\n                <FaStar className={`text-yellow-400`} />\r\n                <FaStar className={`text-yellow-400`} />\r\n                <FaStar className={`text-gray-400`} />\r\n            </div>\r\n        )\r\n    }\r\n\r\nexport default Stars\r\n","import React from 'react'\r\n\r\nimport { IProduct } from './Interface'\r\nimport { useCart } from './Logic/CartProvider'\r\nimport Stars from './Stars'\r\n\r\n\r\nconst Product = ({\r\n    category,\r\n    description,\r\n    id,\r\n    image,\r\n    price,\r\n    rating,\r\n    title,\r\n}: IProduct) => {\r\n    const { dispatch } = useCart()\r\n\r\n    const product = {\r\n        id: id,\r\n        category: category,\r\n        description: description,\r\n        image: image,\r\n        price: price,\r\n        rating: rating,\r\n        title: title\r\n    }\r\n    const addToCard = () => {\r\n        dispatch({\r\n            type: \"ADD\", payload: {\r\n                product: product,\r\n                count: 1\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={`rounded-xl space-y-2 border-b p-2 sm:w-1/2 xl:w-1/3 h-40 flex justify-center`}>\r\n\r\n            <img className={`w-32`} src={image} alt=\"title\" />\r\n            <div className={`flex flex-col p-2`}>\r\n                {/*category*/}\r\n                <p className=\"font-bold text-sm\">{title}</p>\r\n                {/* <p>{description}</p> */}\r\n                <p className={`text-2xl font-bold`}>{price} z≈Ç</p>\r\n                <div className={`flex justify-between items-end`}>\r\n                    <div className={''}>{<Stars rating={rating.rate} />}<div className={`text-sm opacity-70`}>{rating.count} buyers</div></div>\r\n                    <button onClick={addToCard} className={` border-b p-2 shadow font-bold text-sm text-gray-700`}>ADD TO CARD</button>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import React from 'react'\r\nimport { RouteComponentProps } from 'react-router'\r\nimport useSWR from 'swr'\r\nimport { fetcher } from '../lib/fetcher'\r\nimport { IProduct } from './Interface'\r\nimport Product from './Product'\r\n\r\ninterface IParams {\r\n    category: string\r\n}\r\n\r\n\r\nconst Category = ({ match }: RouteComponentProps<IParams>) => {\r\n    const category = match.params.category\r\n\r\n    const { data } = useSWR(`https://fakestoreapi.com/products/category/${category}`, fetcher)\r\n    if (!data) return <p>loading</p>\r\n\r\n    return (\r\n        <div className={`container flex  mx-auto flex-wrap`}>\r\n            {data.map((product: IProduct, idx: number) => {\r\n                return (\r\n                    <Product {...product} key={idx}></Product>\r\n                )\r\n            })}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Category\r\n","import React from 'react'\r\n\r\nconst Header = ({ children }: { children: React.ReactNode }) => {\r\n    return (\r\n        <div className={` bg-blue-900`}>\r\n            <div className={`h-16 px-4 space-x-4 container mx-auto text-white flex flex-nowrap  items-center justify-between  `}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\n\r\nimport { ICart, IProduct } from './Interface'\r\nimport { useCart } from './Logic/CartProvider'\r\n\r\n\r\nconst Card = () => {\r\n    const { card, dispatch } = useCart()\r\n\r\n\r\n    const remove = (product: IProduct) => {\r\n        dispatch({\r\n            type: \"REMOVE\", payload: {\r\n                product: product,\r\n                count: 1\r\n            }\r\n        })\r\n    }\r\n    const changeCount = (product: ICart, e: React.ChangeEvent<HTMLInputElement>) => {\r\n\r\n        dispatch({\r\n            type: \"CHANGE\", payload: {\r\n                product: product.product,\r\n                count: Object.is(NaN, parseInt(e.target.value)) ? 0 : parseInt(e.target.value)\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <div>\r\n            {card.map((product, idx) => {\r\n\r\n                return (\r\n                    <div key={idx} className={`flex space-x-2`}><input className={`w-10`} onChange={(e) => changeCount(product, e)} value={product.count} type=\"number\"></input><p>x {product.product.title} </p><button onClick={() => remove(product.product)}>remove</button></div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card\r\n","import useSWR from \"swr\";\r\nimport {\r\n    HashRouter,\r\n    Route,\r\n    Link\r\n} from \"react-router-dom\";\r\nimport Category from \"./components/Category\";\r\nimport { fetcher } from \"./lib/fetcher\";\r\nimport Header from \"./components/Header\";\r\nimport Card from \"./components/Cart\";\r\nimport CardProvider from \"./components/Logic/CartProvider\";\r\n\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n\r\n    const { data } = useSWR<string[]>('https://fakestoreapi.com/products/categories', fetcher)\r\n    if (!data) return <>loading</>\r\n\r\n    return (\r\n\r\n        <CardProvider>\r\n            <HashRouter>\r\n                <Header>\r\n                    {data.map((category, idx) => {\r\n                        return (\r\n                            <Link className={` border-b sm:p-2`} to={category} key={idx} >{category} </Link>\r\n                        )\r\n                    })}\r\n                </Header>\r\n                <Route path='/:category' component={Category} /> {/*temporary for production */}\r\n            </HashRouter>\r\n            <Card />\r\n        </CardProvider>\r\n\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n\n  <App />\n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}