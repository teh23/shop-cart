(this["webpackJsonptodo-state"]=this["webpackJsonptodo-state"]||[]).push([[0],{36:function(t,e,c){},65:function(t,e,c){"use strict";c.r(e);var a=c(0),n=c(27),r=c.n(n),s=(c(36),c(9)),o=c(31),i=c(11),d=c(17),l=c(2),u=c(18),j=c(28),p=c.n(j),b=function(t){return p.a.get(t).then((function(t){return t.data}))},x=c(6),O=c(1),m=function(t){var e=t.rating;return Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("p",{children:e}),Object(O.jsx)(x.a,{className:"text-yellow-400"}),Object(O.jsx)(x.a,{className:"text-yellow-400"}),Object(O.jsx)(x.a,{className:"text-yellow-400"}),Object(O.jsx)(x.a,{className:"text-yellow-400"}),Object(O.jsx)(x.a,{className:"text-gray-400"})]})},f=function(t){var e=t.category,c=t.description,a=t.id,n=t.image,r=t.price,s=t.rating,o=t.title,i=N().dispatch,d={id:a,category:e,description:c,image:n,price:r,rating:s,title:o};return Object(O.jsxs)("div",{className:"rounded-xl space-y-2 border-b p-2 sm:w-1/2 xl:w-1/3 h-40 flex justify-center",children:[Object(O.jsx)("img",{className:"w-32",src:n,alt:"title"}),Object(O.jsxs)("div",{className:"flex flex-col p-2",children:[Object(O.jsx)("p",{className:"font-bold text-sm",children:o}),Object(O.jsxs)("p",{className:"text-2xl font-bold",children:[r," z\u0142"]}),Object(O.jsxs)("div",{className:"flex justify-between items-end",children:[Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)(m,{rating:s.rate}),Object(O.jsxs)("div",{className:"text-sm opacity-70",children:[s.count," buyers"]})]}),Object(O.jsx)("button",{onClick:function(){i({type:"ADD",payload:{product:d,count:1}})},className:" border-b p-2 shadow font-bold text-sm text-gray-700",children:"ADD TO CARD"})]})]})]})},h=function(t){var e=t.match.params.category,c=Object(i.a)("https://fakestoreapi.com/products/category/".concat(e),b).data;return c?Object(O.jsx)("div",{className:"container flex  mx-auto flex-wrap",children:c.map((function(t,e){return Object(a.createElement)(f,Object(u.a)(Object(u.a)({},t),{},{key:e}))}))}):Object(O.jsx)("p",{children:"loading"})},y=function(t){var e=t.children;return Object(O.jsx)("div",{className:" bg-blue-900",children:Object(O.jsx)("div",{className:"h-16 px-4 space-x-4 container mx-auto text-white flex flex-nowrap  items-center justify-between  ",children:e})})},g=function(){var t=N(),e=t.card,c=t.dispatch;return Object(O.jsx)("div",{children:e.map((function(t,e){return Object(O.jsxs)("div",{className:"flex space-x-2",children:[Object(O.jsx)("input",{className:"w-10",onChange:function(e){return function(t,e){c({type:"CHANGE",payload:{product:t.product,count:Object.is(NaN,parseInt(e.target.value))?0:parseInt(e.target.value)}})}(t,e)},value:t.count,type:"number"}),Object(O.jsxs)("p",{children:["x ",t.product.title," "]}),Object(O.jsx)("button",{onClick:function(){return function(t){c({type:"REMOVE",payload:{product:t,count:1}})}(t.product)},children:"remove"})]},e)}))})},v=Object(a.createContext)({card:[],dispatch:function(){return[]}});var N=function(){return Object(a.useContext)(v)},w=function(){var t=Object(a.useReducer)((function(t,e){switch(e.type){case"ADD":return t.find((function(t){return t.product.id===e.payload.product.id}))?Object(s.a)(t.map((function(t){return t.product.id===e.payload.product.id&&t.count++,t}))):[].concat(Object(s.a)(t),[{product:e.payload.product,count:e.payload.count}]);case"REMOVE":return Object(s.a)(t.filter((function(t){return t.product.id!==e.payload.product.id})));case"CHANGE":return Object(s.a)(t.map((function(t){return t.product.id===e.payload.product.id&&(t.count=e.payload.count),t})));default:return[]}}),[]),e=Object(o.a)(t,2),c=e[0],n=e[1],r=Object(i.a)("https://fakestoreapi.com/products/categories",b).data;return r?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(v.Provider,{value:{card:c,dispatch:n},children:[Object(O.jsxs)(d.a,{children:[Object(O.jsx)(y,{children:r.map((function(t,e){return Object(O.jsxs)(d.b,{className:" border-b sm:p-2",to:t,children:[t," "]},e)}))}),Object(O.jsx)(l.a,{path:"/:category",component:h})," "]}),Object(O.jsx)(g,{})]})}):Object(O.jsx)(O.Fragment,{children:"loading"})};r.a.render(Object(O.jsx)(w,{}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.cc156dfe.chunk.js.map