(this["webpackJsonptodo-state"]=this["webpackJsonptodo-state"]||[]).push([[0],{36:function(t,e,c){},65:function(t,e,c){"use strict";c.r(e);var a=c(0),n=c(27),r=c.n(n),s=(c(36),c(11)),o=c(17),i=c(2),d=c(18),u=c(28),l=c.n(u),j=function(t){return l.a.get(t).then((function(t){return t.data}))},p=c(31),b=c(9),x=function(t,e){switch(e.type){case"ADD":return t.find((function(t){return t.product.id===e.payload.product.id}))?Object(b.a)(t.map((function(t){return t.product.id===e.payload.product.id&&t.count++,t}))):[].concat(Object(b.a)(t),[{product:e.payload.product,count:e.payload.count}]);case"REMOVE":return Object(b.a)(t.filter((function(t){return t.product.id!==e.payload.product.id})));case"CHANGE":return Object(b.a)(t.map((function(t){return t.product.id===e.payload.product.id&&(t.count=e.payload.count),t})));default:return[]}},O=c(1),m=Object(a.createContext)({card:[],dispatch:function(){return[]}}),f=function(t){var e=t.children,c=Object(a.useReducer)(x,[]),n=Object(p.a)(c,2),r=n[0],s=n[1];return Object(O.jsx)(m.Provider,{value:{card:r,dispatch:s},children:e})},h=function(){return Object(a.useContext)(m)},y=c(6),v=function(t){var e=t.rating;return Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("p",{children:e}),Object(O.jsx)(y.a,{className:"text-yellow-400"}),Object(O.jsx)(y.a,{className:"text-yellow-400"}),Object(O.jsx)(y.a,{className:"text-yellow-400"}),Object(O.jsx)(y.a,{className:"text-yellow-400"}),Object(O.jsx)(y.a,{className:"text-gray-400"})]})},N=function(t){var e=t.category,c=t.description,a=t.id,n=t.image,r=t.price,s=t.rating,o=t.title,i=h().dispatch,d={id:a,category:e,description:c,image:n,price:r,rating:s,title:o};return Object(O.jsxs)("div",{className:"rounded-xl space-y-2 border-b p-2 sm:w-1/2 xl:w-1/3 h-40 flex justify-center",children:[Object(O.jsx)("img",{className:"w-32",src:n,alt:"title"}),Object(O.jsxs)("div",{className:"flex flex-col p-2",children:[Object(O.jsx)("p",{className:"font-bold text-sm",children:o}),Object(O.jsxs)("p",{className:"text-2xl font-bold",children:[r," z\u0142"]}),Object(O.jsxs)("div",{className:"flex justify-between items-end",children:[Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)(v,{rating:s.rate}),Object(O.jsxs)("div",{className:"text-sm opacity-70",children:[s.count," buyers"]})]}),Object(O.jsx)("button",{onClick:function(){i({type:"ADD",payload:{product:d,count:1}})},className:" border-b p-2 shadow font-bold text-sm text-gray-700",children:"ADD TO CARD"})]})]})]})},g=function(t){var e=t.match.params.category,c=Object(s.a)("https://fakestoreapi.com/products/category/".concat(e),j).data;return c?Object(O.jsx)("div",{className:"container flex  mx-auto flex-wrap",children:c.map((function(t,e){return Object(a.createElement)(N,Object(d.a)(Object(d.a)({},t),{},{key:e}))}))}):Object(O.jsx)("p",{children:"loading"})},w=function(t){var e=t.children;return Object(O.jsx)("div",{className:" bg-blue-900",children:Object(O.jsx)("div",{className:"h-16 px-4 space-x-4 container mx-auto text-white flex flex-nowrap  items-center justify-between  ",children:e})})},C=function(){var t=h(),e=t.card,c=t.dispatch;return Object(O.jsx)("div",{children:e.map((function(t,e){return Object(O.jsxs)("div",{className:"flex space-x-2",children:[Object(O.jsx)("input",{className:"w-10",onChange:function(e){return function(t,e){c({type:"CHANGE",payload:{product:t.product,count:Object.is(NaN,parseInt(e.target.value))?0:parseInt(e.target.value)}})}(t,e)},value:t.count,type:"number"}),Object(O.jsxs)("p",{children:["x ",t.product.title," "]}),Object(O.jsx)("button",{onClick:function(){return function(t){c({type:"REMOVE",payload:{product:t,count:1}})}(t.product)},children:"remove"})]},e)}))})};var E=function(){var t=Object(s.a)("https://fakestoreapi.com/products/categories",j).data;return t?Object(O.jsxs)(f,{children:[Object(O.jsxs)(o.a,{children:[Object(O.jsx)(w,{children:t.map((function(t,e){return Object(O.jsxs)(o.b,{className:" border-b sm:p-2",to:t,children:[t," "]},e)}))}),Object(O.jsx)(i.a,{path:"/:category",component:g})," "]}),Object(O.jsx)(C,{})]}):Object(O.jsx)(O.Fragment,{children:"loading"})};r.a.render(Object(O.jsx)(E,{}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.7ba47b78.chunk.js.map